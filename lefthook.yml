pre-commit:
  jobs:
    - run: prettier --write --cache --ignore-unknown {staged_files}
      stage_fixed: true

    - run: eslint --no-warn-ignored {staged_files}

    - run: rollup -c && git add dist
      glob:
        - dist/*
        - src/*.ts
        - rollup.config.js
        - tsconfig.json
        - yarn.lock
      exclude:
        - src/*.test.ts
      stage_fixed: true
